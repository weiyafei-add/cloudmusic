<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div>
      <button id="btn">节流处理</button>
    </div>
  </body>
  <script>
    function getDate() {
      console.log(new Date())
    }
    function throttle(func, delay) {
      var run = true
      return function () {
        // 函数开头判断run是否为true, 不为true则return
        if (!run) {
          return
        }
        run = false // 将run置为false, 防止
        setTimeout(() => {
          func.apply(this)
          run = true
        }, delay)
      }
    }
    var btn = document.getElementById('btn')
    btn.addEventListener('click', throttle(getDate, 1000))
  </script>
</html>
